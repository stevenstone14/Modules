<script>
    async function getData(){
        let res = await fetch("http://localhost:3000/data",{method: "GET"});
        let data = await res.json();
        console.log(data);
        let dataDiv = document.querySelector("#data");
        for (let cat of data) {
        const paragraph = document.createElement("p")
        const text = document.createTextNode(cat);
        paragraph.appendChild(text);

        dataDiv.appendChild(paragraph);
        }
    }
    getData();


   async function getForm(e){   
    e.preventDefault();
    const cat = document.querySelector('#cat');
    try {
        await fetch("http://localhost:3000/add",
        {
            method: "POST",
            headers: {"Content-Type":"application/json"},
            body: cat.value
        });
    } catch (er){
        console.log(er)
    }
    return false;
   }
</script>

 <form id="form" onsubmit="return getForm(event)">
    <input id="cat"/>
    <input type="submit"/>
 </form>

<h1>Naughty Client</h1>

<div id="data"></div>

